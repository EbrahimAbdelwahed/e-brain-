Title: [WO WO-20250903-007] Ranking polish: exponential freshness half-life + boosts/penalties + weights

Work ID: WO-20250903-007
Labels: feat, backend, pipelines, ranking
Reviewers: @maintainer
Branch: feat/WO-20250903-007-ranking-polish
Auto-merge: enabled on green (to be toggled on PR)

Problem
- Ranking used a simple 1/(1+days) freshness and lacked light-weight heuristics; source weights needed finalization. Per ARCHITECT.md, we must improve recency handling, add small boosts/penalties based on reliable cues, clamp scores, and keep output shapes unchanged.

Approach
- Freshness: exponential decay with configurable half-life hours: freshness = exp(-ln(2) * age_hours / half_life_hours). Env var `RANK_HALF_LIFE_HOURS` (default 24).
- Base formula retained: `0.5*freshness + 0.3*source_weight + 0.2*cluster_size`, where `cluster_size = min(1.0, len(arts)/5)`.
- Heuristics (cluster-level, case-insensitive, applied once):
  - +0.1 preregistration: "prereg" or "registered report"
  - +0.1 open code/data: "github" or "open data"
  - +0.2 replication: "replication"
  - +0.2 policy impact: "policy" or "regulator"
  - -0.1 if across all articles none of {"random", "double-blind", "n="}
- Clamp final score to [0,1]. Return shapes and publish artifacts unchanged.
- Source weights in `config/sources.yml` refined with inline tier comments (society journals > high-signal blogs > press). Loader unchanged.

Files touched
- pipeline/rank.py: exponential decay, heuristics, clamping; preserved return shape.
- config/sources.yml: refined weights, clarified tiers via comments.
- tests/test_rank.py: unit tests for freshness math and heuristics ordering; integration publish check for score presence and clamping.
- README.md: documented formula, env var, and heuristics; stated shapes unchanged.

Tradeoffs
- Heuristics are intentionally conservative substrings to minimize false positives. They are cluster-level and do not attempt NLP or weighting magnitude beyond spec.
- Clamping may compress upper tail when high source weights coincide with strong freshness/size; mitigated by keeping boosts small.

Test evidence
- Unit tests: freshness half-life ≈0.5 at 24h; monotonicity holds; replication+GitHub outranks baseline; missing methods incurs ~0.1 penalty; clamping ensures 0≤score≤1.
- Integration (offline): publish from DB returns clusters with `score` present and within [0,1].
- Local run: `pytest -q` → all tests passed.

Risks & mitigations
- Heuristic misclassification: limited to small ±0.1/0.2 nudges; easy to extend/tune.
- Ordering churn: documented in README; half-life tunable via env.
- Over-weighting due to source weights: clamp + modest coefficient (0.3) keeps impact bounded.

Checklists
- Lint/type: repo conventions unchanged.
- Unit tests: added and pass locally.
- Integration: offline fixture publish verified.
- Coverage: within repo norms; added targeted tests.
- SEC scan: no new deps; no network in tests.

Next actions
- Open draft PR with labels and reviewer; enable auto-merge on green.

Comment upon merge readiness
- WO WO-20250903-007: criteria met; artifacts attached. Ready.

